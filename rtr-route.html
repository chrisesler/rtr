<!--
Copyright 2015 Jeffrey Schwartz. All rights reserved.
Use of this source code is governed by a BSD-style
license that can be found in the LICENSE file.
-->
<!--
/**
 * @group Router Core Elements
 *
 * 'rtr-route' element is an abstract base custom element which represent a route. Your route
 * handler must extend rtr-route to be useful (i.e. extends="rtr-router"):
 *
 *      <link rel="import" href="../../polymer/polymer.html">
 *      <link rel="import" href="../rtr-route.html">
 *      <polymer-element name="demo-staticpath" extends="rtr-route">
 *          <script>
 *          (function() {
 *              "use strict";
 *              Polymer("my-route", {
 *                  myHandler: function(){
 *                      // Code to handle the route
 *                      ...
 *                  }
 *              });
 *          }());
 *          </script>*
 *      </polymer-element>
 *
 * 'rtr-route' provides support and functionality for calling your route handlers in response to
 * routing requests which match its "method" (think REST verbs) and "path" (think URLs) attributes.
 * You must extend your own custom route elements from rtr-route (i.e. extends="rtr-route") and
 * provide a route handler method that will be called for the route.
 *
 *      <rtr-router>
 *          <my-route
 *            method="get"
 *            path="a/url/path"
 *            handler="myHandler">
 *          </my-route>
 *      </rtr-router>
 *
 * @element rtr-route
 * @status alpha
 * @homepage https://github.com/jeffschwartz/rtr
 * @author Jeff Schwartz
 */
-->

<link rel="import" href="../polymer/polymer.html">
<polymer-element name="rtr-route" constructor="RtrRoute" attributes="method path handler">
    <template>
    </template>
    <script>
(function() {
    "use strict";

    Polymer("rtr-route", {

        /**
         * The method (think REST) associated with the routing request
         * (e.g. "get", "post", "put", "delete", etc.).
         *
         * @attribute method
         * @type string
         * @default 'get'
         */
        method: "get", // A sensible daefault

        /**
         * The path (think URL) used for the routing reques.
         *
         * @attribute path
         * @type string
         * @default ''
         */
        path: "",

        /**
         * The name of the function that is to be called to handle the route.
         *
         * @attribute handler
         * @type string
         * @default ''
         */
        handler: "",

        /**
         * A lifecycle callback. Adds rtrRouter and rtrHistory properties to itself.
         *
         * @method domReady
         */
        domReady: function () {
            this.rtrRouter = this.parentElement;
            //rtr-history is the only element in the shadow-root
            this.rtrHistory = this.parentElement.shadowRoot.children[0];
        }
    });
}());
    </script>
</polymer-element>
